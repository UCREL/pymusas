<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">lexicon_entry | PyMUSAS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ucrel.github.io/pymusas/api/rankers/lexicon_entry"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="lexicon_entry | PyMUSAS"><meta data-react-helmet="true" name="description" content="pymusas.rankers.lexicon_entry"><meta data-react-helmet="true" property="og:description" content="pymusas.rankers.lexicon_entry"><link data-react-helmet="true" rel="icon" href="/pymusas/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://ucrel.github.io/pymusas/api/rankers/lexicon_entry"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/api/rankers/lexicon_entry" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/api/rankers/lexicon_entry" hreflang="x-default"><link rel="stylesheet" href="/pymusas/assets/css/styles.c28d02d7.css">
<link rel="preload" href="/pymusas/assets/js/runtime~main.d1fffa17.js" as="script">
<link rel="preload" href="/pymusas/assets/js/main.ce8e9237.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pymusas/"><div class="navbar__logo"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">PyMUSAS</b></a><a class="navbar__item navbar__link" href="/pymusas/">Usage</a><a class="navbar__item navbar__link" href="/pymusas/api/base">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/base">base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/config">config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/file_utils">file_utils</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/lexicon_collection">lexicon_collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/pos_mapper">pos_mapper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/utils">utils</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/pymusas/api/rankers/lexical_match">rankers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pymusas/api/rankers/lexical_match">lexical_match</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pymusas/api/rankers/lexicon_entry">lexicon_entry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pymusas/api/rankers/ranking_meta_data">ranking_meta_data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/pymusas/api/spacy_api/lexicon_collection">spacy_api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/pymusas/api/taggers/rule_based">taggers</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>lexicon_entry</h1></header><div class="source-div"><p><i>pymusas</i><i>.rankers</i><strong>.lexicon_entry</strong></p><p><a href="https://github.com/UCREL/pymusas/blob/main/pymusas/rankers/lexicon_entry.py" target="_blank" rel="noopener noreferrer" class="sourcelink">[SOURCE]</a></p></div><div></div><hr><a id="pymusas.rankers.lexicon_entry.LexiconEntryRanker"></a><h2 class="anchor anchorWithStickyNavbar_31ik" id="lexiconentryranker">LexiconEntryRanker<a class="hash-link" href="#lexiconentryranker" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Serialise</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>An <strong>abstract class</strong> that defines the basic methods, <code>__call__</code>,
<code>to_bytes</code>, and <code>from_bytes</code>, that is required for all
<a href="#lexiconentryranker"><code>LexiconEntryRanker</code></a>s.</p><p>Each lexicon entry match is represented by a
<a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a> object.</p><p><strong>Lower ranked lexicon entry matches should be given priority when making
tagging decisions. A rank of 0 is better than a rank of 1.</strong></p><p>A LexcionEntryRanker when called, <code>__call__</code>, returns a tuple of two <code>List</code>s
whereby each entry in the list corresponds to a token:</p><ol><li>Contains the ranks of the lexicon entry matches as a <code>List[int]</code>.
<strong>Note</strong> that the <code>List</code> can be empty if a token has no lexicon entry matches.</li><li>An <code>Optional[RankingMetaData]</code> that is the global lowest ranked entry
match for that token. If the value is <code>None</code> then no global lowest ranked
entry can be found for that token. If the <code>RankingMetaData</code> represents more
than one token, like a Multi Word Expression (MWE) match, then those associated tokens
will have the same <code>RankingMetaData</code> object as the global lowest ranked entry match.</li></ol><p><strong>The tagger will have to make a decision how to handle global lowest ranked
matches of value <code>None</code>, a suggested approach would be to assign an
unmatched/unknown semantic tag to those tokens.</strong></p><p>The reason for the adding the second list is that the <strong>global</strong> lowest
ranked match is not the same as the local/token lowest ranked match, this is
due to the potential of overlapping matches, e.g. <code>North East London brewery</code>
can have a match of <code>North East</code>, <code>North</code>, and <code>East London brewery</code> in this
case the lowest rank for <code>North</code> would be <code>North East</code>, but as we have a
lower match that uses <code>East</code> which is <code>East London brewery</code> then the
<strong>global</strong> lowest rank for <code>North</code> would be <code>North</code>.</p><a id="pymusas.rankers.lexicon_entry.LexiconEntryRanker.__call__"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="__call__">_<!-- -->_<!-- -->call<!-- -->_<!-- -->_<a class="hash-link" href="#__call__" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Serialise</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @abstractmethod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     token_ranking_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Tuple</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Optional</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For each token it returns a <code>List</code> of rankings for each lexicon entry
match and the optional <a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a>
object of the <strong>global</strong> lowest ranked match for each token.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.parameters">Parameters<a href="#__call__.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>token<!-- -->_<!-- -->ranking<!-- -->_<!-- -->data</strong> : <code>List[List[RankingMetaData]]</code> <br>
For each token a <code>List</code> of <a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a>
representing the lexicon entry match.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.returns">Returns<a href="#__call__.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>Tuple[List[List[int]], List[Optional[RankingMetaData]]]</code> <br></li></ul><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker"></a><h2 class="anchor anchorWithStickyNavbar_31ik" id="contextualrulebasedranker">ContextualRuleBasedRanker<a class="hash-link" href="#contextualrulebasedranker" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     maximum_n_gram_length</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     maximum_number_wildcards</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The contextual rule based ranker creates ranks based on the rules stated below.</p><p>Each lexicon entry match is represented by a
<a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a> object.</p><p><strong>Lower ranked lexicon entry matches should be given priority when making
tagging decisions. See the <a href="#lexiconentryranker"><code>LexiconEntryRanker</code></a> class docstring for
more details on the returned value of the <code>__call__</code> method.</strong></p><p><strong>Ranking Rules:</strong></p><p>The ranking of lexicon entires is based off the following rules, these rules
are based on the 6 heuristic stated at the top of column 2 on page 4 of
<a href="https://aclanthology.org/W03-1807.pdf" target="_blank" rel="noopener noreferrer">Piao et al. 2003</a>:</p><p>First we create an initial ranking based on lexicon entry type:</p><ol><li>Multi Word Expression (MWE) entries ranked lower than single and Non-Special
entries are ranked lower than wild card entires.</li></ol><p>Then within these rankings we further rank based on:</p><ol start="2"><li>Longer entries, based on n-gram length, are ranked lower.</li><li>Entries with fewer wildcards are ranked lower.</li></ol><p>Then we apply the following contextual ranking rules:</p><ol start="4"><li>Whether the POS information was excluded in the match if so these are ranked
higher. This is only <code>True</code> when the match ignores the POS information for
single word lexicon entries. This is always <code>False</code> when used in a
MWE lexicon entry match.</li><li>Whether the lexicon entry was matched on Token &lt; Lemma &lt;
Lower cased token &lt; Lower cased lemma. Token is the lowest ranked and lower
cased lemma is highest.</li><li>The lexicon entry that first appears in the text is ranked lowest,
this is required for matches that do not apply to the same sequence
of tokens.</li></ol><p>In the case whereby the global lowest ranked lexicon entry match is joint
ranked with another entry then it is random which lexicon entry match is chosen.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="contextualrulebasedranker.parameters">Parameters<a href="#contextualrulebasedranker.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#contextualrulebasedranker.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>maximum<!-- -->_<!-- -->n<!-- -->_<!-- -->gram<!-- -->_<!-- -->length</strong> : <code>int</code> <br>
The largest n_gram rule match that will be encountered, e.g. a match
of <code>ski_noun boot_noun</code> will have a n-gram length of 2.</li><li><strong>maximum<!-- -->_<!-- -->number<!-- -->_<!-- -->wildcards</strong> : <code>int</code> <br>
The number of wildcards in the rule that contains the most wildcards, e.g.
the rule <code>ski_* *_noun</code> would contain 2 wildcards. This can be 0 if you
have no wildcard rules.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="contextualrulebasedranker.instance_attributes">Instance Attributes<a href="#contextualrulebasedranker.instance_attributes" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#contextualrulebasedranker.instance_attributes" title="Direct link to heading">â€‹</a></h4><ul><li><strong>n<!-- -->_<!-- -->gram<!-- -->_<!-- -->number<!-- -->_<!-- -->indexes</strong> : <code>int</code> <br>
The number of indexes that each n-gram length value should have when
converting the n-gram length to a string using
<code>pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.int_2_str</code>.</li><li><strong>wildcards<!-- -->_<!-- -->number<!-- -->_<!-- -->indexes</strong> : <code>int</code> <br>
The number of indexes that each wildcard count value should have when
converting the wildcard count value to a string using
<code>pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.int_2_str</code>.</li><li><strong>n<!-- -->_<!-- -->gram<!-- -->_<!-- -->ranking<!-- -->_<!-- -->dictionary</strong> : <code>Dict[int, int]</code> <br>
Maps the n-gram length to it&#x27;s rank value, as the n-gram length is
inverse to it&#x27;s rank, as the larger the n-gram length the lower it&#x27;s
rank.</li></ul><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.to_bytes"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes">to<!-- -->_<!-- -->bytes<a class="hash-link" href="#to_bytes" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">to_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bytes</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Serialises the <a href="#contextualrulebasedranker"><code>ContextualRuleBasedRanker</code></a> to a bytestring.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes.returns">Returns<a href="#to_bytes.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_bytes.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>bytes</code> <br></li></ul><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.from_bytes"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes">from<!-- -->_<!-- -->bytes<a class="hash-link" href="#from_bytes" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">from_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ContextualRuleBasedRanker&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Loads <a href="#contextualrulebasedranker"><code>ContextualRuleBasedRanker</code></a> from the given bytestring and
returns it.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes.parameters">Parameters<a href="#from_bytes.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_bytes.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>bytes<!-- -->_<!-- -->data</strong> : <code>bytes</code> <br>
The bytestring to load.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes.returns">Returns<a href="#from_bytes.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_bytes.returns" title="Direct link to heading">â€‹</a></h4><ul><li><a href="#contextualrulebasedranker"><code>ContextualRuleBasedRanker</code></a> <br></li></ul><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.get_construction_arguments"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="get_construction_arguments">get<!-- -->_<!-- -->construction<!-- -->_<!-- -->arguments<a class="hash-link" href="#get_construction_arguments" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_construction_arguments</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Rule&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Tuple</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Given a <code>List</code> of rules it will return the <code>maximum_n_gram_length</code> and
<code>maximum_number_wildcards</code> from the lexicon collections that those
<a href="/pymusas/api/taggers/rules/rule#rule"><code>pymusas.taggers.rules.rule.Rule</code></a>(s) are based on. The output from
this function can then be used as the arguments to the constructor of
<a href="#contextualrulebasedranker"><code>ContextualRuleBasedRanker</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_construction_arguments.parameters">Parameters<a href="#get_construction_arguments.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_construction_arguments.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>rules</strong> : <code>List[Rule]</code> <br>
A <code>List</code> of rules. This <code>List</code> is typically required when creating
a <a href="/pymusas/api/taggers/rule_based#rulebasedtagger"><code>pymusas.taggers.rule_based.RuleBasedTagger</code></a> tagger.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_construction_arguments.returns">Returns<a href="#get_construction_arguments.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_construction_arguments.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>Tuple[int, int]</code> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_construction_arguments.examples">Examples<a href="#get_construction_arguments.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_construction_arguments.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_entry </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ContextualRuleBasedRanker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rules</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mwe </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MWERule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_collection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MWELexiconCollection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pt_mwe_lexicon_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://raw.githubusercontent.com/UCREL/Multilingual-USAS/master/Portuguese/mwe-pt.tsv&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mwe_dict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MWELexiconCollection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_tsv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pt_mwe_lexicon_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mwe_rule </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MWERule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mwe_dict</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ranker_construction_arguments </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_construction_arguments</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mwe_rule</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ranker </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ranker_construction_arguments</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.int_2_str"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="int_2_str">int<!-- -->_<!-- -->2<!-- -->_<!-- -->str<a class="hash-link" href="#int_2_str" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">int_2_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int_value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> number_indexes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Converts the integer, <code>int_value</code>, to a string with <code>number_indexes</code>,
e.g. <code>10</code> and <code>05</code> both have <code>number_indexes</code> of 2 and <code>001</code>, <code>020</code>,
and <code>211</code> have <code>number_indexes</code> of 3.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="int_2_str.parameters">Parameters<a href="#int_2_str.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#int_2_str.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>int<!-- -->_<!-- -->value</strong> : <code>int</code> <br>
The integer to converts to a string with the given <code>number_indexes</code>.</li><li><strong>number<!-- -->_<!-- -->indexes</strong> : <code>int</code> <br>
The number of indexes the <code>int_value</code> should have in the returned
string.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="int_2_str.returns">Returns<a href="#int_2_str.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#int_2_str.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>str</code> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="int_2_str.raises">Raises<a href="#int_2_str.raises" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#int_2_str.raises" title="Direct link to heading">â€‹</a></h4><ul><li>ValueError <br>
If the <code>number_indexes</code> of the <code>int_value</code> when converted to a
string is greater than the given <code>number_indexes</code>.</li></ul><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.get_global_lowest_ranks"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="get_global_lowest_ranks">get<!-- -->_<!-- -->global<!-- -->_<!-- -->lowest<!-- -->_<!-- -->ranks<a class="hash-link" href="#get_global_lowest_ranks" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">staticmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_global_lowest_ranks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     token_ranking_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     token_rankings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     ranking_data_to_exclude</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Set</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Optional</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Returns the global lowest ranked entry match for each token. If the value
is <code>None</code> then no global lowest ranked entry can be found for that token.
If the <code>RankingMetaData</code> represents more than one token, like a Multi
Word Expression (MWE) match, then those associated tokens will have the
same <code>RankingMetaData</code> object as the global lowest ranked entry match.</p><p>Time Complexity, given <em>N</em> is the number of tokens, <em>M</em> is the number
of unique ranking data, and <em>P</em> is the number of ranking data (non-unique)
then the time complexity is:</p><p>O(N + P) + O(M log M) + O(M)</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_global_lowest_ranks.parameters">Parameters<a href="#get_global_lowest_ranks.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_global_lowest_ranks.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>token<!-- -->_<!-- -->ranking<!-- -->_<!-- -->data</strong> : <code>List[List[RankingMetaData]]</code> <br>
For each token a <code>List</code> of
<a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a> representing
the lexicon entry match.</li><li><strong>token<!-- -->_<!-- -->rankings</strong> : <code>List[List[int]]</code> <br>
For each token contains the ranks of the lexicon entry matches.
<strong>Note</strong> that the <code>List</code> can be empty if a token has no lexicon
entry matches.</li><li><strong>ranking<!-- -->_<!-- -->data<!-- -->_<!-- -->to<!-- -->_<!-- -->exclude</strong> : <code>Set[RankingMetaData]</code>, optional (default = <code>None</code>) <br>
Any <a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a> to
exclude from the ranking selection, this can be useful when wanting
to get the next best global rank for each token.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_global_lowest_ranks.raises">Raises<a href="#get_global_lowest_ranks.raises" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_global_lowest_ranks.raises" title="Direct link to heading">â€‹</a></h4><ul><li><code>AssertionError</code> <br>
If the length of <code>token_ranking_data</code> is not equal to the length of
<code>token_rankings</code>, for both the outer and inner <code>List</code>s.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="get_global_lowest_ranks.examples">Examples<a href="#get_global_lowest_ranks.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#get_global_lowest_ranks.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_entry </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ContextualRuleBasedRanker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ranking_meta_data </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RankingMetaData</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_collection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LexiconType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexical_match </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LexicalMatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">north_east </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RankingMetaData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MWE_NON_SPECIAL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LexicalMatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TOKEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&#x27;North_noun East_noun&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">east_london_brewery </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RankingMetaData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MWE_NON_SPECIAL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LexicalMatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TOKEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token string" style="color:#e3116c">&#x27;East_noun London_noun brewery_noun&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">token_ranking_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        north_east</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        north_east</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">token_rankings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120110</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120110</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expected_lowest_ranked_matches </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> east_london_brewery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  east_london_brewery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> east_london_brewery</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_global_lowest_ranks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">token_ranking_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> token_rankings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> expected_lowest_ranked_matches</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Following on from the previous example, we now want to find the next best
global match for each token so we exclude the current best global match
for each token which is the <code>east_london_brewery</code> match:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">expected_lowest_ranked_matches </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">north_east</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> north_east</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ranking_data_to_exclude </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">east_london_brewery</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_global_lowest_ranks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">token_ranking_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> token_rankings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                         ranking_data_to_exclude</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> expected_lowest_ranked_matches</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.__call__"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="__call__-1">_<!-- -->_<!-- -->call<!-- -->_<!-- -->_<a class="hash-link" href="#__call__-1" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     token_ranking_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Tuple</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Optional</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RankingMetaData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For each token it returns a <code>List</code> of rankings for each lexicon entry
match and the optional <a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a>
object of the <strong>global</strong> lowest ranked match for each token.</p><p>See the ranking rules in the class docstring for details on how
each lexicon entry match is ranked.</p><p>Time Complexity, given <em>N</em> is the number of tokens, <em>M</em> is the number
of unique ranking data, and <em>P</em> is the number of ranking data (non-unique)
then the time complexity is:</p><p>O(3(N + P)) + O(M log M) + O(M)</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.parameters">Parameters<a href="#__call__.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>token<!-- -->_<!-- -->ranking<!-- -->_<!-- -->data</strong> : <code>List[List[RankingMetaData]]</code> <br>
For each token a <code>List</code> of <a href="/pymusas/api/rankers/ranking_meta_data#rankingmetadata"><code>pymusas.rankers.ranking_meta_data.RankingMetaData</code></a>
representing the lexicon entry match.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.returns">Returns<a href="#__call__.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>Tuple[List[List[int]], List[Optional[RankingMetaData]]]</code> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.examples">Examples<a href="#__call__.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_entry </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ContextualRuleBasedRanker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ranking_meta_data </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RankingMetaData</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_collection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LexiconType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rankers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexical_match </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LexicalMatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">north_east </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RankingMetaData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MWE_NON_SPECIAL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LexicalMatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TOKEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&#x27;North_noun East_noun&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">east_london_brewery </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RankingMetaData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MWE_NON_SPECIAL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LexicalMatch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TOKEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token string" style="color:#e3116c">&#x27;East_noun London_noun brewery_noun&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">token_ranking_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        north_east</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        north_east</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        east_london_brewery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expected_ranks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120110</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120110</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">110111</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expected_lowest_ranked_matches </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> east_london_brewery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                  east_london_brewery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> east_london_brewery</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ranker </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expected_ranks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expected_lowest_ranked_matches</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> ranker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">token_ranking_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.rankers.lexicon_entry.ContextualRuleBasedRanker.__eq__"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="__eq__">_<!-- -->_<!-- -->eq<!-- -->_<!-- -->_<a class="hash-link" href="#__eq__" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ContextualRuleBasedRanker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LexiconEntryRanker</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__eq__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bool</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Given another object to compare too it will return <code>True</code> if the other
object is the same class and was initialised using with the same
<code>maximum_n_gram_length</code> and <code>maximum_number_wildcards</code> values.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="__eq__.parameters">Parameters<a href="#__eq__.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__eq__.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>other</strong> : <code>object</code> <br>
The object to compare too.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="__eq__.returns">Returns<a href="#__eq__.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__eq__.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>True</code> <br></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ucrel/pymusas/edit/main/docs/docs/api/rankers/lexicon_entry.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-05-11T19:31:10.000Z">5/11/2022</time></b> by <b>Andrew Moore</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pymusas/api/rankers/lexical_match"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">lexical_match</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pymusas/api/rankers/ranking_meta_data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ranking_meta_data</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lexiconentryranker" class="table-of-contents__link toc-highlight">LexiconEntryRanker</a><ul><li><a href="#__call__" class="table-of-contents__link toc-highlight">__call__</a></li></ul></li><li><a href="#contextualrulebasedranker" class="table-of-contents__link toc-highlight">ContextualRuleBasedRanker</a><ul><li><a href="#to_bytes" class="table-of-contents__link toc-highlight">to_bytes</a></li><li><a href="#from_bytes" class="table-of-contents__link toc-highlight">from_bytes</a></li><li><a href="#get_construction_arguments" class="table-of-contents__link toc-highlight">get_construction_arguments</a></li><li><a href="#int_2_str" class="table-of-contents__link toc-highlight">int_2_str</a></li><li><a href="#get_global_lowest_ranks" class="table-of-contents__link toc-highlight">get_global_lowest_ranks</a></li><li><a href="#__call__-1" class="table-of-contents__link toc-highlight">__call__</a></li><li><a href="#__eq__" class="table-of-contents__link toc-highlight">__eq__</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pymusas/">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/pymusas/api/base">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/UCREL_NLP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 UCREL. Built with Docusaurus.</div></div></div></footer></div>
<script src="/pymusas/assets/js/runtime~main.d1fffa17.js"></script>
<script src="/pymusas/assets/js/main.ce8e9237.js"></script>
</body>
</html>