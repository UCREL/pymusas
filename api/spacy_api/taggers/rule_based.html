<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">rule_based | PyMUSAS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ucrel.github.io/pymusas/api/spacy_api/taggers/rule_based"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="rule_based | PyMUSAS"><meta data-react-helmet="true" name="description" content="pymusas.spacyapi.taggers.rulebased"><meta data-react-helmet="true" property="og:description" content="pymusas.spacyapi.taggers.rulebased"><link data-react-helmet="true" rel="icon" href="/pymusas/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://ucrel.github.io/pymusas/api/spacy_api/taggers/rule_based"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/api/spacy_api/taggers/rule_based" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/api/spacy_api/taggers/rule_based" hreflang="x-default"><link rel="stylesheet" href="/pymusas/assets/css/styles.37dd87a5.css">
<link rel="preload" href="/pymusas/assets/js/runtime~main.1a4913f0.js" as="script">
<link rel="preload" href="/pymusas/assets/js/main.867fe292.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pymusas/"><div class="navbar__logo"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">PyMUSAS</b></a><a class="navbar__item navbar__link" href="/pymusas/">Usage</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pymusas/api/spacy_api/taggers/rule_based">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/config">config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/file_utils">file_utils</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/lexicon_collection">lexicon_collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pymusas/api/pos_mapper">pos_mapper</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/pymusas/api/taggers/rule_based">taggers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/pymusas/api/spacy_api/taggers/rule_based">spacy_api</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/pymusas/api/spacy_api/taggers/rule_based">taggers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pymusas/api/spacy_api/taggers/rule_based">rule_based</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>rule_based</h1></header><div class="source-div"><p><i>pymusas</i><i>.spacy_api</i><i>.taggers</i><strong>.rule_based</strong></p><p><a href="https://github.com/UCREL/pymusas/blob/main/pymusas/spacy_api/taggers/rule_based.py" target="_blank" rel="noopener noreferrer" class="sourcelink">[SOURCE]</a></p></div><div></div><hr><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger"></a><h2 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger">USASRuleBasedTagger<a class="hash-link" href="#usasrulebasedtagger" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     usas_tags_token_attr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;usas_tags&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     pos_attribute</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pos_&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     lemma_attribute</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lemma_&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><a href="https://spacy.io/usage/processing-pipelines" target="_blank" rel="noopener noreferrer">spaCy pipeline component</a>
for rule based USAS tagger.</p><p>This component allows you to add <a href="http://ucrel.lancs.ac.uk/usas/" target="_blank" rel="noopener noreferrer">USAS semantic tags</a>
to each spaCy <a href="https://spacy.io/api/token" target="_blank" rel="noopener noreferrer">Token</a>, whereby these USAS tags
have been predicted through the following <a href="#usasrulebasedtagger.rules">rules</a>, all of these rules depend on
two Lexicon like data structures, the <code>lexicon_lookup</code> and the <code>lemma_lexicon_lookup</code>.
Both of these lexicons are of type <code>Dict[str, List[str]]</code> which map a lemma
(with or without it&#x27;s Part Of Speech (POS) ) to a <code>List</code> of USAS tags. The
first semantic tag in the <code>List</code> of tags is the most likely tag.</p><p>Furthermore, the optional POS mapper, <code>pos_mapper</code>, is used in this tagger when the POS tagset
within the lexicons does not match the tagset used by the POS model, which has
preceding this tagger in the spaCy pipeline. The POS mapper is expected to
map from the tagset of the POS model to the tagset of the lexicons, whereby the
mapping is a one-to-many mapping. The first tag in the <code>List</code> is assumed to be the
most relevant and the last to be the least. Some pre-compiled Dictionaries can be
found in the <a href="/pymusas/api/pos_mapper"><code>pymusas.pos_mapper</code></a> module, e.g. the UPOS to USAS
core <a href="/pymusas/api/pos_mapper#upos_to_usas_core"><code>pymusas.pos_mapper.UPOS_TO_USAS_CORE</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.rules">Rules<a href="#usasrulebasedtagger.rules" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.rules" title="Direct link to heading">â€‹</a></h4><ol><li><strong>If <code>pos_mapper</code> is not <code>None</code></strong>, map the POS, from the POS model,
to the first POS value in the <code>List</code> from the <code>pos_mapper</code>s <code>Dict</code>. <strong>If</strong> the
<code>pos_mapper</code> cannot map the POS, from the POS model, go to step 9.</li><li>If <code>POS==punc</code> label as <code>PUNCT</code></li><li>Lookup token and POS tag</li><li>Lookup lemma and POS tag</li><li>Lookup lower case token and POS tag</li><li>Lookup lower case lemma and POS tag</li><li>if <code>POS==num</code> label as <code>N1</code></li><li><strong>If there is another POS value in the <code>pos_mapper</code></strong> go back to step 2
with this new POS value else carry on to step 9.</li><li>Lookup token with any POS tag and choose first entry in lexicon.</li><li>Lookup lemma with any POS tag and choose first entry in lexicon.</li><li>Lookup lower case token with any POS tag and choose first entry in lexicon.</li><li>Lookup lower case lemma with any POS tag and choose first entry in lexicon.</li><li>Label as <code>Z99</code>, this is the unmatched semantic tag.</li></ol><p><strong>NOTE</strong> this tagger has been designed to be flexible with the amount of
resources avaliable, if you do not have a POS tagger in the spaCy pipeline
it will not use POS information. If you do not have a lexicon file with
POS information then <code>lexicon_lookup</code> will be an empty <code>Dict</code>. However, the fewer
resources avaliable, less rules, stated above, will be applied making the
tagger less effective.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.assigned_attributes">Assigned Attributes<a href="#usasrulebasedtagger.assigned_attributes" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.assigned_attributes" title="Direct link to heading">â€‹</a></h4><p>The component assigns the predicted USAS tags to each spaCy <a href="https://spacy.io/api/token" target="_blank" rel="noopener noreferrer">Token</a> under
<code>Token._.usas_tags</code> attribute by default, this can be changed with the
<code>usas_tags_token_attr</code> parameter to another attribute of
the <code>Token._</code>, e.g. if <code>usas_tags_token_attr=semantic_tags</code> then the attribute
the USAS tags will be assigned to for each token will be <code>Token._.semantic_tags</code>.</p><table><thead><tr><th>Location</th><th>Type</th><th>Value</th></tr></thead><tbody><tr><td>Token._.usas_tags</td><td><code>List[str]</code></td><td>Prediced USAS tags, the first semantic tag in the List of tags is the most likely tag.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.config_and_implementation">Config and implementation<a href="#usasrulebasedtagger.config_and_implementation" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.config_and_implementation" title="Direct link to heading">â€‹</a></h4><p>The default config is defined by the pipeline component factory and describes
how the component should be configured. You can override its settings via the <code>config</code>
argument on <a href="https://spacy.io/api/language#add_pipe" target="_blank" rel="noopener noreferrer">nlp.add_pipe</a> or in your
<a href="https://spacy.io/usage/training#config" target="_blank" rel="noopener noreferrer">config.cfg for training</a>.</p><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>usas_tags_token_attr</td><td>See parameters section below</td></tr><tr><td>pos_attribute</td><td>See parameters section below</td></tr><tr><td>lemma_attribute</td><td>See parameters section below</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.parameters">Parameters<a href="#usasrulebasedtagger.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><p><strong>usas<!-- -->_<!-- -->tags<!-- -->_<!-- -->token<!-- -->_<!-- -->attr</strong> : <code>str</code>, optional (default = <code>usas_tags</code>) <br>
The name of the attribute to assign the predicted USAS tags too under
the <code>Token._</code> class.</p></li><li><p><strong>pos<!-- -->_<!-- -->attribute</strong> : <code>str</code>, optional (default = <code>pos_</code>) <br>
The name of the attribute that the Part Of Speech (POS) tag is assigned too
within the <code>Token</code> class. The POS tag value that comes from this attribute
has to be of type <code>str</code>. With the current default we take the POS tag
from <code>Token.pos_</code></p></li><li><p><strong>lemma<!-- -->_<!-- -->attribute</strong> : <code>str</code>, optional (default = <code>lemma_</code>) <br>
The name of the attribute that the lemma is assigned too within the <code>Token</code>
class. The lemma value that comes from this attribute has to be of
type <code>str</code>. With the current default we take the lemma from <code>Token.lemma_</code></p></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.instance_attributes">Instance Attributes<a href="#usasrulebasedtagger.instance_attributes" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.instance_attributes" title="Direct link to heading">â€‹</a></h4><ul><li><p><strong>usas<!-- -->_<!-- -->tags<!-- -->_<!-- -->token<!-- -->_<!-- -->attr</strong> : <code>str</code>, optional (default = <code>usas_tags</code>) <br></p></li><li><p><strong>pos<!-- -->_<!-- -->attribute</strong> : <code>str</code>, optional (default = <code>pos_</code>) <br></p></li><li><p><strong>lemma<!-- -->_<!-- -->attribute</strong> : <code>str</code>, optional (default = <code>lemma_</code>) <br></p></li><li><p><strong>lexicon<!-- -->_<!-- -->lookup</strong> : <code>Dict[str, List[str]]</code> <br>
The lexicon data structure with both lemma and POS information mapped
to a <code>List</code> of USAS semantic tags e.g. <code>{&#x27;Car|noun&#x27;: [&#x27;Z2&#x27;, &#x27;Z1&#x27;]}</code>.
By default this is an empty <code>Dict</code>, but can be added to either by setting
it, e.g. <code>self.leixcon_lookup={&#x27;Car|noun&#x27;: [&#x27;Z1&#x27;]}</code> or through adding to
the existing dictionary, e.g. <code>self.lexicon_lookup[&#x27;Car|noun&#x27;] = [&#x27;Z1&#x27;]</code></p></li><li><p><strong>lemma<!-- -->_<!-- -->lexicon<!-- -->_<!-- -->lookup</strong> : <code>Dict[str, List[str]]</code> <br>
The lexicon data structure with only lemma information mapped to a
<code>List</code> of USAS semantic tags e.g. <code>{&#x27;Car&#x27;: [&#x27;Z2&#x27;, &#x27;Z1&#x27;]}</code>.
By default this is an empty <code>Dict</code>, but can be added to either by setting
it, e.g. <code>self.lemma_leixcon_lookup={&#x27;Car&#x27;: [&#x27;Z1&#x27;]}</code> or through adding to
the existing dictionary, e.g. <code>self.lemma_lexicon_lookup[&#x27;Car&#x27;] = [&#x27;Z1&#x27;]</code></p></li><li><p><strong>pos<!-- -->_<!-- -->mapper</strong> : <code>Dict[str, List[str]]</code>, optional (default = <code>None</code>) <br>
If not <code>None</code>, maps from the POS model tagset to the lexicon data POS
tagset, whereby the mapping is a <code>List</code> of tags, the first in the list is
assumed to be the most relevant and the last to be the least.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="usasrulebasedtagger.examples">Examples<a href="#usasrulebasedtagger.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#usasrulebasedtagger.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rule_based</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Construction via spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">blank</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;en&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Using default config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;usas_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lemma_lexicon_lookup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;car&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">token </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;car&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usas_tags </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Construction from class, same defaults as the default config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rule_based </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> USASRuleBasedTagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Custom config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">custom_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;usas_tags_token_attr&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;semantic_tags&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">blank</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;en&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;usas_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">custom_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lemma_lexicon_lookup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;car&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">token </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;car&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">semantic_tags </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Z1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger.__call__"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="__call__">_<!-- -->_<!-- -->call<!-- -->_<!-- -->_<a class="hash-link" href="#__call__" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__call__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Doc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Doc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Applies the tagger to the spaCy document, modifies it in place, and
returns it. This usually happens under the hood when the <code>nlp</code> object is
called on a text and all pipeline components are applied to the <code>Doc</code> in
order.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.parameters">Parameters<a href="#__call__.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>doc</strong> : <code>Doc</code> <br>
A <a href="https://spacy.io/api/doc" target="_blank" rel="noopener noreferrer">spaCy <code>Doc</code></a></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="__call__.returns">Returns<a href="#__call__.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#__call__.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>Doc</code> <br></li></ul><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger.to_bytes"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes">to<!-- -->_<!-- -->bytes<a class="hash-link" href="#to_bytes" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">to_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     exclude</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SimpleFrozenList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bytes</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Serialises the USAS tagger&#x27;s lexicon lookups and POS mapper to a bytestring.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes.parameters">Parameters<a href="#to_bytes.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_bytes.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><strong>exclude</strong> : <code>Iterable[str]</code>, optional (default = <code>SimpleFrozenList()</code>) <br>
This currently does not do anything, please ignore it.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes.returns">Returns<a href="#to_bytes.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_bytes.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>bytes</code> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_bytes.examples">Examples<a href="#to_bytes.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_bytes.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rule_based </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> USASRuleBasedTagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger_bytes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger.from_bytes"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes">from<!-- -->_<!-- -->bytes<a class="hash-link" href="#from_bytes" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">from_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     bytes_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">bytes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     exclude</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SimpleFrozenList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;USASRuleBasedTagger&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This modifies the USASRuleBasedTagger in place and returns it. It loads
in the data from the given bytestring.</p><p>The easiest way to generate a bytestring to load from is through the
<a href="#to_bytes"><code>to_bytes</code></a> method.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes.parameters">Parameters<a href="#from_bytes.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_bytes.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><p><strong>bytes<!-- -->_<!-- -->data</strong> : <code>bytes</code> <br>
The bytestring to load.</p></li><li><p><strong>exclude</strong> : <code>Iterable[str]</code>, optional (default = <code>SimpleFrozenList()</code>) <br>
This currently does not do anything, please ignore it.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes.returns">Returns<a href="#from_bytes.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_bytes.returns" title="Direct link to heading">â€‹</a></h4><ul><li><a href="#usasrulebasedtagger"><code>USASRuleBasedTagger</code></a> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_bytes.examples">Examples<a href="#from_bytes.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_bytes.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rule_based </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> USASRuleBasedTagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">custom_lexicon </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;example|noun&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;A1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> custom_lexicon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger_bytes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new_tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new_tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tagger_bytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> new_tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger.to_disk"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="to_disk">to<!-- -->_<!-- -->disk<a class="hash-link" href="#to_disk" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">to_disk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Union</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     exclude</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SimpleFrozenList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Saves the follwing information, if it exists, to the given <code>path</code>, we assume the <code>path</code>
is an existing directory.</p><ul><li><code>lexicon_lookup</code> -- as a JSON file at the following path <code>path/lexicon_lookup.json</code></li><li><code>lemma_lexicon_lookup</code> -- as a JSON file at the following path <code>path/lemma_lexicon_lookup.json</code></li><li><code>pos_mapper</code> -- as a JSON file at the following path <code>path/pos_mapper.json</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_disk.parameters">Parameters<a href="#to_disk.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_disk.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><p><strong>path</strong> : <code>Union[str, Path]</code> <br>
Path to an existing direcotry. Path may be either strings or <code>Path</code>-like objects.</p></li><li><p><strong>exclude</strong> : <code>Iterable[str]</code>, optional (default = <code>SimpleFrozenList()</code>) <br>
This currently does not do anything, please ignore it.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_disk.returns">Returns<a href="#to_disk.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_disk.returns" title="Direct link to heading">â€‹</a></h4><ul><li><code>None</code> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="to_disk.examples">Examples<a href="#to_disk.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#to_disk.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tempfile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TemporaryDirectory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rule_based </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> USASRuleBasedTagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;example|noun&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;A1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> TemporaryDirectory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> temp_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_disk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lexicon_lookup.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lemma_lexicon_lookup.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pos_mapper.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><a id="pymusas.spacy_api.taggers.rule_based.USASRuleBasedTagger.from_disk"></a><h3 class="anchor anchorWithStickyNavbar_31ik" id="from_disk">from<!-- -->_<!-- -->disk<a class="hash-link" href="#from_disk" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">from_disk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Union</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     exclude</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Iterable</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SimpleFrozenList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;USASRuleBasedTagger&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Loads the following information in place and returns the USASRuleBasedTagger
from the given <code>path</code>, we assume the <code>path</code> is an existing directory.
None of the following information is required to exist and no error or
debug information will be raised or outputted if it does not exist.</p><ul><li><code>lexicon_lookup</code> -- loads from the following path <code>path/lexicon_lookup.json</code></li><li><code>lemma_lexicon_lookup</code> --  loads from the following path <code>path/lemma_lexicon_lookup.json</code></li><li><code>pos_mapper</code> -- loads from the following path <code>path/pos_mapper.json</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_disk.parameters">Parameters<a href="#from_disk.parameters" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_disk.parameters" title="Direct link to heading">â€‹</a></h4><ul><li><p><strong>path</strong> : <code>Union[str, Path]</code> <br>
Path to an existing direcotry. Path may be either strings or <code>Path</code>-like objects.</p></li><li><p><strong>exclude</strong> : <code>Iterable[str]</code>, optional (default = <code>SimpleFrozenList()</code>) <br>
This currently does not do anything, please ignore it.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_disk.returns">Returns<a href="#from_disk.returns" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_disk.returns" title="Direct link to heading">â€‹</a></h4><ul><li><a href="#usasrulebasedtagger"><code>USASRuleBasedTagger</code></a> <br></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="from_disk.examples">Examples<a href="#from_disk.examples" class="headerlink" title="Permanent link">Â¶</a><a class="hash-link" href="#from_disk.examples" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tempfile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TemporaryDirectory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pymusas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spacy_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">taggers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rule_based </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> USASRuleBasedTagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;example|noun&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;A1&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new_tagger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> USASRuleBasedTagger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> TemporaryDirectory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> temp_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_disk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new_tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_disk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_dir</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> new_tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lexicon_lookup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> new_tagger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pos_mapper </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ucrel/pymusas/edit/main/docs/docs/api/spacy_api/taggers/rule_based.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-01-07T12:36:14.000Z">1/7/2022</time></b> by <b>Andrew Moore</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pymusas/api/taggers/rule_based"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">rule_based</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usasrulebasedtagger" class="table-of-contents__link toc-highlight">USASRuleBasedTagger</a><ul><li><a href="#__call__" class="table-of-contents__link toc-highlight">__call__</a></li><li><a href="#to_bytes" class="table-of-contents__link toc-highlight">to_bytes</a></li><li><a href="#from_bytes" class="table-of-contents__link toc-highlight">from_bytes</a></li><li><a href="#to_disk" class="table-of-contents__link toc-highlight">to_disk</a></li><li><a href="#from_disk" class="table-of-contents__link toc-highlight">from_disk</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pymusas/">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/pymusas/api/spacy_api/taggers/rule_based">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/UCREL_NLP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 UCREL. Built with Docusaurus.</div></div></div></footer></div>
<script src="/pymusas/assets/js/runtime~main.1a4913f0.js"></script>
<script src="/pymusas/assets/js/main.867fe292.js"></script>
</body>
</html>