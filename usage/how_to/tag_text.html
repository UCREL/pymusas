<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Tag Text | PyMUSAS</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ucrel.github.io/pymusas/usage/how_to/tag_text"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tag Text | PyMUSAS"><meta data-react-helmet="true" name="description" content="In this guide we are going to show you how to tag text using the PyMUSAS RuleBasedTagger so that you can extract token level USAS semantic tags from the tagged text. The guide is broken down into different languages, for each guide we are going to:"><meta data-react-helmet="true" property="og:description" content="In this guide we are going to show you how to tag text using the PyMUSAS RuleBasedTagger so that you can extract token level USAS semantic tags from the tagged text. The guide is broken down into different languages, for each guide we are going to:"><link data-react-helmet="true" rel="icon" href="/pymusas/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://ucrel.github.io/pymusas/usage/how_to/tag_text"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/usage/how_to/tag_text" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ucrel.github.io/pymusas/usage/how_to/tag_text" hreflang="x-default"><link rel="stylesheet" href="/pymusas/assets/css/styles.c28d02d7.css">
<link rel="preload" href="/pymusas/assets/js/runtime~main.f644db1b.js" as="script">
<link rel="preload" href="/pymusas/assets/js/main.82cefa3b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pymusas/"><div class="navbar__logo"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/pymusas/img/ucrel_logo.svg" alt="UCREL logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">PyMUSAS</b></a><a class="navbar__item navbar__link navbar__link--active" href="/pymusas/">Usage</a><a class="navbar__item navbar__link" href="/pymusas/api/base">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/pymusas/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/pymusas/usage/how_to/tag_text">How-to</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pymusas/usage/how_to/tag_text">Tag Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pymusas/usage/how_to/tag_conll_u_files">Tag CoNLL-U Files</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/pymusas/usage/notes/mwe_syntax">Notes</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tag Text</h1></header><p>In this guide we are going to show you how to tag text using the PyMUSAS <a href="/pymusas/api/spacy_api/taggers/rule_based#rulebasedtagger">RuleBasedTagger</a> so that you can extract token level <a href="https://ucrel.lancs.ac.uk/usas/" target="_blank" rel="noopener noreferrer">USAS semantic tags</a> from the tagged text. The guide is broken down into different languages, for each guide we are going to: </p><ol><li>Download the relevant pre-configured PyMUSAS <code>RuleBasedTagger</code> spaCy component for the language.</li><li>Download and use a Natural Language Processing (NLP) pipeline that will tokenise, lemmatise, and Part Of Speech (POS) tag. In most cases this will be a spaCy pipeline. <strong>Note</strong> that the PyMUSAS <code>RuleBasedTagger</code> only requires at minimum the data to be tokenised but having the lemma and POS tag will improve the accuracy of the tagging of the text.</li><li>Run the PyMUSAS <code>RuleBasedTagger</code>.</li><li>Extract token level linguistic information from the tagged text, which will include USAS semantic tags.</li><li>For Chinese, Italian, Portuguese, Spanish, Welsh, and English taggers which support Multi Word Expression (MWE) identification and tagging we will show how to extract this information from the tagged text as well.</li></ol><h2 class="anchor anchorWithStickyNavbar_31ik" id="chinese">Chinese<a class="hash-link" href="#chinese" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/cmn_dual_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Chinese PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/zh" target="_blank" rel="noopener noreferrer">small Chinese spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/cmn_dual_upos2usas_contextual-0.3.0/cmn_dual_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download zh_core_web_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Currently there is no lemmatisation component in the spaCy pipeline for Chinese.</p></div></div><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;zh_core_web_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Chinese PyMUSAS rule based tagger in a seperate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chinese_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;cmn_dual_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Chinese PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">chinese_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Chinese Wikipedia page on the topic of <a href="https://zh.wikipedia.org/wiki/%E5%B0%BC%E7%BD%97%E6%B2%B3" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;å°¼ç½—æ²³ æ˜¯ä¸€æ¡æµç¶“éæ´²æ±éƒ¨èˆ‡åŒ—éƒ¨çš„æ²³æµï¼Œèˆ‡ä¸­éåœ°å€çš„å‰›æœæ²³ã€éæ´²å—éƒ¨çš„èµæ¯”è¥¿æ²³ä»¥åŠè¥¿éåœ°åŒºçš„å°¼æ—¥å°”æ²³ä¸¦åˆ—éæ´²æœ€å¤§çš„å››å€‹æ²³æµç³»çµ±ã€‚&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å°¼ç½—æ²³     PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ˜¯       VERB    [&#x27;A3&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸€       NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ¡       NUM     [&#x27;G2.1/P1&#x27;, &#x27;S7.4-&#x27;, &#x27;A1.7+&#x27;, &#x27;S8-&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æµç¶“      ADJ     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éæ´²      PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ±éƒ¨      NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">èˆ‡åŒ—éƒ¨     PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">çš„       PART    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ²³æµ      NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ï¼Œ       PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">èˆ‡       VERB    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸­é      PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ°å€      NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">çš„       PART    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‰›æœæ²³     PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ã€       PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éæ´²      PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å—éƒ¨      NOUN    [&#x27;M6&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">çš„       PART    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">èµæ¯”è¥¿æ²³    NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä»¥åŠ      CCONJ   [&#x27;N5++&#x27;, &#x27;N5.2+&#x27;, &#x27;A13.3&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è¥¿é      PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ°åŒº      NOUN    [&#x27;A1.1.1&#x27;, &#x27;B3/X1&#x27;, &#x27;G1.1c&#x27;, &#x27;W3&#x27;, &#x27;F4/M7&#x27;, &#x27;K2&#x27;, &#x27;M7&#x27;, &#x27;A4.1&#x27;, &#x27;N3.6&#x27;, &#x27;B1&#x27;, &#x27;T1.1&#x27;, &#x27;O4.4&#x27;, &#x27;N5.1-&#x27;, &#x27;S5+c&#x27;, &#x27;B3&#x27;, &#x27;Y1&#x27;, &#x27;C1/H1@&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">çš„       PART    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å°¼æ—¥å°”æ²³    NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸¦åˆ—      VERB    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éæ´²      PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æœ€       ADV     [&#x27;A11.1+&#x27;, &#x27;N5+++&#x27;, &#x27;N3.2+++&#x27;, &#x27;A11.1+++&#x27;, &#x27;N5.1+&#x27;, &#x27;O2/M4&#x27;, &#x27;O3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¤§       VERB    [&#x27;A11.1+&#x27;, &#x27;N5+++&#x27;, &#x27;N3.2+++&#x27;, &#x27;A11.1+++&#x27;, &#x27;N5.1+&#x27;, &#x27;O2/M4&#x27;, &#x27;O3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">çš„       PART    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å››       NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å€‹       NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ²³æµ      NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç³»çµ±      NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ã€‚       PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For Chinese the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS    MWE start and end index    USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æœ€       ADV    (28, 30)                   [&#x27;A11.1+&#x27;, &#x27;N5+++&#x27;, &#x27;N3.2+++&#x27;, &#x27;A11.1+++&#x27;, &#x27;N5.1+&#x27;, &#x27;O2/M4&#x27;, &#x27;O3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¤§       VERB   (28, 30)                   [&#x27;A11.1+&#x27;, &#x27;N5+++&#x27;, &#x27;N3.2+++&#x27;, &#x27;A11.1+++&#x27;, &#x27;N5.1+&#x27;, &#x27;O2/M4&#x27;, &#x27;O3&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="dutch">Dutch<a class="hash-link" href="#dutch" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/nl_single_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Dutch PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/nl" target="_blank" rel="noopener noreferrer">small Dutch spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/nl_single_upos2usas_contextual-0.3.0/nl_single_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download nl_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;nl_core_news_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tagger&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Dutch PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dutch_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;nl_single_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Dutch PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dutch_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Dutch Wikipedia page on the topic of <a href="https://nl.wikipedia.org/wiki/Nijl" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;De Nijl is met een lengte van 5499 tot 6695 km de langste of de op een na langste rivier van de wereld.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    Lemma   POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">De      de      DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nijl    nijl    PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">is      is      AUX     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">met     met     ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">een     een     DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lengte  lengte  NOUN    [&#x27;N3.7&#x27;, &#x27;T1.3&#x27;, &#x27;M4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">van     van     ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5499    5499    NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tot     tot     ADP     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6695    6695    NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">km      km      SYM     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de      de      DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">langste lang    ADJ     [&#x27;N3.7+&#x27;, &#x27;T1.3+&#x27;, &#x27;N3.3+&#x27;, &#x27;N3.2+&#x27;, &#x27;X7+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">of      of      CCONJ   [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de      de      DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">op      op      ADP     [&#x27;A5.1+&#x27;, &#x27;G2.2+&#x27;, &#x27;A1.1.1&#x27;, &#x27;M6&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">een     e       NUM     [&#x27;N1&#x27;, &#x27;T3&#x27;, &#x27;T1.2&#x27;, &#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">na      na      ADP     [&#x27;N4&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">langste lang    ADJ     [&#x27;N3.7+&#x27;, &#x27;T1.3+&#x27;, &#x27;N3.3+&#x27;, &#x27;N3.2+&#x27;, &#x27;X7+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rivier  rivier  NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">van     van     ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de      de      DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wereld  wereld  NOUN    [&#x27;W1&#x27;, &#x27;S5+c&#x27;, &#x27;A4.1&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.       .       PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="french">French<a class="hash-link" href="#french" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/fr_single_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">French PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/fr" target="_blank" rel="noopener noreferrer">small French spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/fr_single_upos2usas_contextual-0.3.0/fr_single_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download fr_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fr_core_news_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the French PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">french_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fr_single_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the French PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">french_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the French Wikipedia page on the topic of <a href="https://fr.wikipedia.org/wiki/Nil" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Le Nil est un fleuve d&#x27;Afrique. Avec une longueur d&#x27;environ 6 700 km, c&#x27;est avec le fleuve Amazone, le plus long fleuve du monde.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text      Lemma     POS       USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Le        le        DET       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nil       Nil       PROPN     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">est       Ãªtre      AUX       [&#x27;M6&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">un        un        DET       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fleuve    fleuve    NOUN      [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d&#x27;        de        ADP       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Afrique   Afrique   PROPN     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.         .         PUNCT     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Avec      avec      ADP       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">une       un        DET       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longueur  longueur  NOUN      [&#x27;N3.7&#x27;, &#x27;T1.3&#x27;, &#x27;M4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d&#x27;        de        ADP       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">environ   environ   ADV       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6         6         DET       [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">700       700       NUM       [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">km        kilomÃ¨tre NOUN      [&#x27;N3.3&#x27;, &#x27;N3.7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,         ,         PUNCT     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c&#x27;        ce        PRON      [&#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">est       Ãªtre      VERB      [&#x27;M6&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">avec      avec      ADP       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">le        le        DET       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fleuve    fleuve    NOUN      [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Amazone   amazone   NOUN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,         ,         PUNCT     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">le        le        DET       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plus      plus      ADV       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">long      long      ADJ       [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fleuve    fleuve    NOUN      [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">du        de        ADP       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">monde     monde     NOUN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.         .         PUNCT     [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="italian">Italian<a class="hash-link" href="#italian" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/it_dual_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Italian PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/it" target="_blank" rel="noopener noreferrer">small Italian spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/it_dual_upos2usas_contextual-0.3.0/it_dual_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download it_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;it_core_news_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tagger&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Italian PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">italian_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;it_dual_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Italian PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">italian_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Italian Wikipedia page on the topic of <a href="https://it.wikipedia.org/wiki/Nilo" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Il Nilo Ã¨ un fiume africano lungo 6.852 km che attraversa otto stati dell&#x27;Africa. Tradizionalmente considerato il fiume piÃ¹ lungo del mondo, contende il primato della lunghezza al Rio delle Amazzoni.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text              Lemma             POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Il                il                DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nilo              nilo              PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ã¨                 essere            AUX     [&#x27;A5.1&#x27;, &#x27;S7.1++&#x27;, &#x27;X3.2&#x27;, &#x27;Q2.2&#x27;, &#x27;A8&#x27;, &#x27;N3.1%&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">un                uno               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fiume             fiume             NOUN    [&#x27;W3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">africano          africano          ADJ     [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lungo             lungo             ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6.852             6.852             NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">km                km                NOUN    [&#x27;N3.3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">che               che               PRON    [&#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attraversa        attraversare      VERB    [&#x27;M1&#x27;, &#x27;M6&#x27;, &#x27;S8-&#x27;, &#x27;A1.8+&#x27;, &#x27;A6.3+&#x27;, &#x27;F4/L2&#x27;, &#x27;O4.4&#x27;, &#x27;Q1.2&#x27;, &#x27;E3-&#x27;, &#x27;S1.1.1&#x27;, &#x27;S9@&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">otto              otto              NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stati             stato             NOUN    [&#x27;G2.1/H1&#x27;, &#x27;B2&#x27;, &#x27;A3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dell&#x27;             dell&#x27;             ADP     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Africa            Africa            PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                 .                 PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tradizionalmente  tradizionalmente  ADV     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">considerato       considerare       VERB    [&#x27;A5.1&#x27;, &#x27;N2&#x27;, &#x27;A11.1+&#x27;, &#x27;Q2.2&#x27;, &#x27;S1.1.1&#x27;, &#x27;Q1.3&#x27;, &#x27;S9%&#x27;, &#x27;X2.1&#x27;, &#x27;X2.4&#x27;, &#x27;X6&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">il                il                DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fiume             fiume             NOUN    [&#x27;W3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">piÃ¹               molto             ADV     [&#x27;N3.3+&#x27;, &#x27;A13.3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lungo             lungo             ADJ     [&#x27;N3.3+&#x27;, &#x27;A13.3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">del               del               ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mondo             mondo             NOUN    [&#x27;W1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,                 ,                 PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contende          contendere        VERB    [&#x27;S7.3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">il                il                DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">primato           primato           NOUN    [&#x27;A5.1+++&#x27;, &#x27;A11.1+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">della             della             ADP     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lunghezza         lunghezza         NOUN    [&#x27;N3.7&#x27;, &#x27;T1.3&#x27;, &#x27;M4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">al                al                ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rio               Rio               PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delle             della             ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Amazzoni          amazzoni          PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                 .                 PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For Italian the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS     MWE start and end index    USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">piÃ¹     ADV     (20, 22)                   [&#x27;N3.3+&#x27;, &#x27;A13.3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lungo   ADJ     (20, 22)                   [&#x27;N3.3+&#x27;, &#x27;A13.3&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="portuguese">Portuguese<a class="hash-link" href="#portuguese" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/pt_dual_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Portuguese PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/pt" target="_blank" rel="noopener noreferrer">small Portuguese spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/pt_dual_upos2usas_contextual-0.3.0/pt_dual_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download pt_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pt_core_news_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Portuguese PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">portuguese_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pt_dual_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Portuguese PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">portuguese_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Portuguese Wikipedia page on the topic of <a href="https://pt.wikipedia.org/wiki/Rio_Nilo" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Todos estes estudos levam a que o comprimento de ambos os rios permaneÃ§a em aberto, continuando por isso o debate e como tal, continuando-se a considerar o Nilo como o rio mais longo.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text            Lemma           POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Todos           Todos           DET     [&#x27;Z8/N5.1+c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">estes           este            DET     [&#x27;Z5&#x27;, &#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">estudos         estudo          NOUN    [&#x27;P1&#x27;, &#x27;X2.4&#x27;, &#x27;H2&#x27;, &#x27;Q1.2&#x27;, &#x27;C1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">levam           levar           VERB    [&#x27;A9+&#x27;, &#x27;T1.3&#x27;, &#x27;C1&#x27;, &#x27;A1.1.1&#x27;, &#x27;M2&#x27;, &#x27;S7.1-&#x27;, &#x27;A2.1+&#x27;, &#x27;X2.4&#x27;, &#x27;S6+&#x27;, &#x27;S7.4+&#x27;, &#x27;N3&#x27;, &#x27;A2.1+&#x27;, &#x27;P1&#x27;, &#x27;M1&#x27;, &#x27;X2.5+&#x27;, &#x27;F1@&#x27;, &#x27;F2@&#x27;, &#x27;Q1.2@&#x27;, &#x27;B3@&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a               o               SCONJ   [&#x27;M6&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">que             que             SCONJ   [&#x27;A13.3&#x27;, &#x27;A6.1+&#x27;, &#x27;Z5&#x27;, &#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">o               o               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comprimento     comprimento     NOUN    [&#x27;N3.7&#x27;, &#x27;T1.3&#x27;, &#x27;M4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de              de              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ambos           ambos           DET     [&#x27;N5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os              o               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rios            rio             NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">permaneÃ§a       permanecer      VERB    [&#x27;T2++&#x27;, &#x27;M8&#x27;, &#x27;N5.2+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">em              em              SCONJ   [&#x27;A5.1+&#x27;, &#x27;G2.2+&#x27;, &#x27;A1.1.1&#x27;, &#x27;M6&#x27;, &#x27;O4.2+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aberto          aberto          VERB    [&#x27;A10+&#x27;, &#x27;T2+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">continuando     continuar       VERB    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">por             por             ADP     [&#x27;N4&#x27;, &#x27;Z5&#x27;, &#x27;T1.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isso            isso            PRON    [&#x27;N4&#x27;, &#x27;Z5&#x27;, &#x27;T1.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">o               o               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debate          debater         NOUN    [&#x27;Q2.1&#x27;, &#x27;Q2.1/A6.1-&#x27;, &#x27;Q2.1/E3-&#x27;, &#x27;Q2.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e               e               CCONJ   [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">como            comer           ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tal             tal             PRON    [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">continuando-se  continuando-se  VERB    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a               o               SCONJ   [&#x27;M6&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">considerar      considerar      VERB    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">o               o               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nilo            Nilo            PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">como            comer           ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">o               o               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rio             rir             NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mais            mais            ADV     [&#x27;T1.3++&#x27;, &#x27;N3.7++&#x27;, &#x27;N3.3++&#x27;, &#x27;N3.2++&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longo           longo           ADJ     [&#x27;T1.3++&#x27;, &#x27;N3.7++&#x27;, &#x27;N3.3++&#x27;, &#x27;N3.2++&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For Portuguese the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS     MWE start and end index    USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">por     ADP     (17, 19)                   [&#x27;N4&#x27;, &#x27;Z5&#x27;, &#x27;T1.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isso    PRON    (17, 19)                   [&#x27;N4&#x27;, &#x27;Z5&#x27;, &#x27;T1.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mais    ADV     (33, 35)                   [&#x27;T1.3++&#x27;, &#x27;N3.7++&#x27;, &#x27;N3.3++&#x27;, &#x27;N3.2++&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longo   ADJ     (33, 35)                   [&#x27;T1.3++&#x27;, &#x27;N3.7++&#x27;, &#x27;N3.3++&#x27;, &#x27;N3.2++&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="spanish">Spanish<a class="hash-link" href="#spanish" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/es_dual_upos2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Spanish PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/es" target="_blank" rel="noopener noreferrer">small Spanish spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/es_dual_upos2usas_contextual-0.3.0/es_dual_upos2usas_contextual-0.3.0-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download es_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;es_core_news_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Spanish PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spanish_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;es_dual_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Spanish PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">spanish_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Spanish Wikipedia page on the topic of <a href="https://es.wikipedia.org/wiki/Pa%C3%ADses_Bajos" target="_blank" rel="noopener noreferrer"><code>PaÃ­ses Bajos</code></a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Los PaÃ­ses Bajos son un paÃ­s soberano ubicado al noreste de la Europa continental y el paÃ­s constituyente mÃ¡s grande de los cuatro que, junto con las islas de Aruba, Curazao y San MartÃ­n, forman el Reino de los PaÃ­ses Bajos.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text            Lemma           POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Los             el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PaÃ­ses          PaÃ­ses          PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bajos           Bajos           PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">son             ser             AUX     [&#x27;A3+&#x27;, &#x27;L1&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">un              uno             DET     [&#x27;Z5&#x27;, &#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">paÃ­s            paÃ­s            NOUN    [&#x27;G1.1c&#x27;, &#x27;W3&#x27;, &#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soberano        soberano        ADJ     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ubicado         ubicado         ADJ     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">al              al              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">noreste         noreste         NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de              de              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">la              el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Europa          Europa          PROPN   [&#x27;Z2&#x27;, &#x27;S7&#x27;, &#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">continental     continental     ADJ     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y               y               CCONJ   [&#x27;Z5&#x27;, &#x27;A1.8+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">el              el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">paÃ­s            paÃ­s            NOUN    [&#x27;G1.1c&#x27;, &#x27;W3&#x27;, &#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constituyente   constituyente   ADJ     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mÃ¡s             mÃ¡s             ADV     [&#x27;A13.3&#x27;, &#x27;N6++&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grande          grande          ADJ     [&#x27;N3.1+/A6.1+/A13.2+&#x27;, &#x27;A5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de              de              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">los             el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cuatro          cuatro          NUM     [&#x27;N1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">que             que             PRON    [&#x27;Z5&#x27;, &#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">junto           junto           ADJ     [&#x27;A2.2&#x27;, &#x27;S5+&#x27;, &#x27;A1.8+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">con             con             ADP     [&#x27;Z5&#x27;, &#x27;A4.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">las             el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">islas           isla            NOUN    [&#x27;W3M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de              de              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Aruba           Aruba           PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Curazao         Curazao         PROPN   [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y               y               CCONJ   [&#x27;Z5&#x27;, &#x27;A1.8+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">San             San             PROPN   [&#x27;S9&#x27;, &#x27;S2&#x27;, &#x27;A4.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MartÃ­n          MartÃ­n          PROPN   [&#x27;Z1&#x27;, &#x27;S2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">forman          formar          VERB    [&#x27;T2+&#x27;, &#x27;A2.1+&#x27;, &#x27;A1.8+&#x27;, &#x27;A3+&#x27;, &#x27;A1.1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">el              el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reino           Reino           PROPN   [&#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de              de              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">los             el              DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PaÃ­ses          PaÃ­ses          PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bajos           Bajos           PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For Spainsh the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS     MWE start and end index    USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PaÃ­ses  PROPN   (1, 3)                     [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bajos   PROPN   (1, 3)                     [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PaÃ­ses  PROPN   (42, 44)                   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bajos   PROPN   (42, 44)                   [&#x27;Z2&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="finnish">Finnish<a class="hash-link" href="#finnish" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/fi_single_upos2usas_contextual-0.3.1" target="_blank" rel="noopener noreferrer">Finnish PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/fi" target="_blank" rel="noopener noreferrer">small Finnish spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/fi_single_upos2usas_contextual-0.3.1/fi_single_upos2usas_contextual-0.3.1-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download fi_core_news_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fi_core_news_sm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;attribute_ruler&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Finnish PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">finnish_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fi_single_upos2usas_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the Finnish PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">finnish_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the Finnish Wikipedia page on the topic of <a href="https://fi.wikipedia.org/wiki/Pankki" target="_blank" rel="noopener noreferrer"><code>Bank</code> as a financial institution</a>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pankki on instituutio, joka tarjoaa finanssipalveluita, erityisesti maksuliikenteen hoitoa ja luotonantoa.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&quot;Text&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&quot;Lemma&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&quot;POS&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;8</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">USAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;20</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">&lt;8</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text                Lemma               POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pankki              pankki              NOUN    [&#x27;I1/H1&#x27;, &#x27;K5.2/I1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">on                  olla                AUX     [&#x27;A3+&#x27;, &#x27;A1.1.1&#x27;, &#x27;M6&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">instituutio         instituutio         NOUN    [&#x27;S5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,                   ,                   PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">joka                joka                PRON    [&#x27;Z8&#x27;, &#x27;N5.1+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tarjoaa             tarjota             VERB    [&#x27;A9-&#x27;, &#x27;Q2.2&#x27;, &#x27;F1&#x27;, &#x27;S6+&#x27;, &#x27;A7+&#x27;, &#x27;I2.2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">finanssipalveluita  finanssipalvelus    NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,                   ,                   PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">erityisesti         erityisesti         ADV     [&#x27;A14&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maksuliikenteen     maksuliikentete     NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hoitoa              hoito               NOUN    [&#x27;B3&#x27;, &#x27;S4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ja                  ja                  CCONJ   [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">luotonantoa         luotonanto          NOUN    [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                   .                   PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="welsh">Welsh<a class="hash-link" href="#welsh" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>In this example we will not be using spaCy for tokenisation, lemmatisation, and POS tagging, as we will be using the <a href="https://github.com/UCREL/CyTag" target="_blank" rel="noopener noreferrer">CyTag toolkit</a> that has been wrapped in a docker container. Therefore, first you will need to <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">install docker</a>.</p><p>We assume that you would like to tag the following text, of which this text is stored in the file named <code>welsh_text_example.txt</code>. The example text is taken from the Welsh Wikipedia page on the topic of <a href="https://cy.wikipedia.org/wiki/Banc" target="_blank" rel="noopener noreferrer"><code>Bank</code> as a financial institution.</a> With an additional random sentence at the end to demonstrate the Multi Word Expression (MWE) identification and tagging attributes of the tagger.</p><div class="codeBlockContainer_K1bP language-txt theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">welsh_text_example.txt</div><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Sefydliad cyllidol yw bancwr neu fanc sy&#x27;n actio fel asiant talu ar gyfer cwsmeriaid, ac yn rhoi benthyg ac yn benthyg arian. Yn rhai gwledydd, megis yr Almaen a Siapan, mae banciau&#x27;n brif berchenogion corfforaethau diwydiannol, tra mewn gwledydd eraill, megis yr Unol Daleithiau, mae banciau&#x27;n cael eu gwahardd rhag bod yn berchen ar gwmniau sydd ddim yn rhai cyllidol. Adran Iechyd Cymru.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First we will need to run the CyTag toolkit, more specifically we will run version 1 of the toolkit as we have a mapping from the POS tags produced in version 1 (the <a href="https://cytag.corcencc.org/tagset?lang=en" target="_blank" rel="noopener noreferrer">basic CorCencC POS tagset</a>) to the POS tags that the USAS lexicon uses (the USAS core POS tagset) within the pre-configured Welsh PyMUSAS <code>RuleBasedTagger</code> tagger.</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> welsh_text_example.txt </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> docker run -i --rm ghcr.io/ucrel/cytag:1.0.4 </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> welsh_text_example.tsv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We now have a <code>tsv</code> version of the file that has been tokenised, lemmatised, and POS tagged. The <code>welsh_text_example.tsv</code> file should contain the following (I have added column headers here to explain what each column represents, these headers should not be in your file, also note that the &quot;Mutation&quot; column is optional):</p><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>welsh_text_example.tsv:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">welsh_text_example.tsv</div><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Line Number Token   Sentence Index, Token Index Lemma   Basic POS   Enriched POS    Mutation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1   Sefydliad   1,1 sefydliad   E   Egu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2   cyllidol    1,2 cyllidol    Ans Anscadu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3   yw  1,3 bod B   Bpres3u </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4   bancwr  1,4 bancwr  E   Egu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5   neu 1,5 neu Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6   fanc    1,6 banc    E   Egu +sm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7   sy  1,7 bod B   Bpres3perth </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8   &#x27;n  1,8 yn  U   Uberf   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9   actio   1,9 actio   B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10  fel 1,10    fel Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11  asiant  1,11    asiant | asio   E | B   Egu | Bpres3ll  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12  talu    1,12    talu    B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13  ar  1,13    ar  Ar  Arsym   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14  gyfer   1,14    cyfer   E   Egu +sm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15  cwsmeriaid  1,15    cwsmer  E   Egll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">16  ,   1,16    ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17  ac  1,17    a   Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">18  yn  1,18    yn  U   Uberf   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">19  rhoi    1,19    rhoi    B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20  benthyg 1,20    benthyg E   Egu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21  ac  1,21    a   Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22  yn  1,22    yn  U   Uberf   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23  benthyg 1,23    benthyg B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">24  arian   1,24    arian   E   Egu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">25  .   1,25    .   Atd Atdt    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">26  Yn  2,1 yn  Ar  Arsym   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">27  rhai    2,2 rhai    unk unk </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">28  gwledydd    2,3 gwlad   E   Ebll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">29  ,   2,4 ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">30  megis   2,5 megis   Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">31  yr  2,6 y   YFB YFB </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32  Almaen  2,7 Almaen  E   Epb </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">33  a   2,8 a   Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34  Siapan  2,9 Siapan  E   Epb </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">35  ,   2,10    ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">36  mae 2,11    bod B   Bpres3u </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">37  banciau 2,12    banc    E   Egll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">38  &#x27;n  2,13    yn  U   Utra    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">39  brif    2,14    brif    unk unk </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40  berchenogion    2,15    berchenogion    unk unk </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">41  corfforaethau   2,16    corfforaeth E   Ebll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42  diwydiannol 2,17    diwydiannol Ans Anscadu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43  ,   2,18    ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">44  tra 2,19    tra Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">45  mewn    2,20    mewn    Ar  Arsym   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">46  gwledydd    2,21    gwlad   E   Ebll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">47  eraill  2,22    arall   Ans Anscadu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">48  ,   2,23    ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">49  megis   2,24    megis   Cys Cyscyd  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">50  yr  2,25    y   YFB YFB </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">51  Unol    2,26    unol    Ans Anscadu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">52  Daleithiau  2,27    Daleithiau  E   Ep  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">53  ,   2,28    ,   Atd Atdcan  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">54  mae 2,29    bod B   Bpres3u </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">55  banciau 2,30    banc    E   Egll    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">56  &#x27;n  2,31    yn  U   Uberf   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">57  cael    2,32    cael    B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">58  eu  2,33    eu  Rha Rhadib3ll   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">59  gwahardd    2,34    gwahardd    B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">60  rhag    2,35    rhag    Ar  Arsym   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">61  bod 2,36    bod B   Be  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">62  yn  2,37    yn  U   Utra    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">63  berchen 2,38    perchen E   Egu +sm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64  ar  2,39    ar  Ar  Arsym   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">65  gwmniau 2,40    gwmniau unk unk </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">66  sydd    2,41    bod B   Bpres3perth </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">67  ddim    2,42    dim E   Egu +sm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">68  yn  2,43    yn  U   Utra    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">69  rhai    2,44    rhai    unk unk </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">70  cyllidol    2,45    cyllidol    Ans Anscadu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">71  .   2,46    .   Atd Atdt    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">72  Adran   3,1 adran   E   Ebu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">73  Iechyd  3,2 iechyd  E   Egu </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">74  Cymru   3,3 Cymru   E   Epb </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">75  .   3,4 .   Atd Atdt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>Now we have the token, lemma, and POS tag information we can run the <a href="https://github.com/UCREL/pymusas-models/releases/tag/cy_dual_basiccorcencc2usas_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Welsh PyMUSAS <code>RuleBasedTagger</code></a>, so first we will download it:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/cy_dual_basiccorcencc2usas_contextual-0.3.0/cy_dual_basiccorcencc2usas_contextual-0.3.0-py3-none-any.whl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now we can run the tagger over the <code>tsv</code> data using the following Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tokens </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vocab </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Vocab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Welsh PyMUSAS rule based tagger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cy_dual_basiccorcencc2usas_contextual&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tokens</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spaces</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">basic_pos_tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lemmas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">welsh_tagged_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;welsh_text_example.tsv&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> welsh_tagged_file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;r&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> welsh_tagged_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> line </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> welsh_tagged_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        line </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            line_tags </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;\t&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokens</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lemmas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            basic_pos_tags</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            spaces</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># As the tagger is a spaCy component that expects tokens, pos, and lemma</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># we need to create a spaCy Doc object that will contain this information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Vocab</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> words</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tokens</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tags</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">basic_pos_tags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lemmas</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">lemmas</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">tag_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text            Lemma           POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sefydliad       sefydliad       E       [&#x27;S5+c&#x27;, &#x27;S7.1+&#x27;, &#x27;H1c&#x27;, &#x27;S1.1.1&#x27;, &#x27;T2+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cyllidol        cyllidol        Ans     [&#x27;I1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yw              bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bancwr          bancwr          E       [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">neu             neu             Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fanc            banc            E       [&#x27;I1.1&#x27;, &#x27;X2.6+&#x27;, &#x27;M1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sy              bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;n              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">actio           actio           B       [&#x27;A1.1.1&#x27;, &#x27;T1.1.2&#x27;, &#x27;A8&#x27;, &#x27;K4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fel             fel             Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asiant          asiant | asio   E | B   [&#x27;I2.1/S2mf&#x27;, &#x27;G3/S2mf&#x27;, &#x27;K4/S2mf&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">talu            talu            B       [&#x27;I1.2&#x27;, &#x27;A9-&#x27;, &#x27;I1.1/I3.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ar              ar              Ar      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gyfer           cyfer           E       [&#x27;M6&#x27;, &#x27;Q2.2&#x27;, &#x27;Q2.2&#x27;, &#x27;S7.1+&#x27;, &#x27;X4.2&#x27;, &#x27;K4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cwsmeriaid      cwsmer          E       [&#x27;I2.2/S2mf&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ac              a               Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yn              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rhoi            rhoi            B       [&#x27;A9-&#x27;, &#x27;A1.1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">benthyg         benthyg         E       [&#x27;A9-&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ac              a               Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yn              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">benthyg         benthyg         B       [&#x27;A9-&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arian           arian           E       [&#x27;I1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Yn              yn              Ar      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rhai            rhai            unk     [&#x27;A13.5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gwledydd        gwlad           E       [&#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">megis           megis           Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yr              y               YFB     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Almaen          Almaen          E       [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a               a               Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Siapan          Siapan          E       [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mae             bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">banciau         banc            E       [&#x27;I1.1&#x27;, &#x27;X2.6+&#x27;, &#x27;M1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;n              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brif            brif            unk     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">berchenogion    berchenogion    unk     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">corfforaethau   corfforaeth     E       [&#x27;I2.1/S5c&#x27;, &#x27;G1.1c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">diwydiannol     diwydiannol     Ans     [&#x27;I4&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tra             tra             Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mewn            mewn            Ar      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gwledydd        gwlad           E       [&#x27;M7&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eraill          arall           Ans     [&#x27;A6.1-/Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">megis           megis           Cys     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yr              y               YFB     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unol            unol            Ans     [&#x27;S5+&#x27;, &#x27;A1.1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Daleithiau      Daleithiau      E       [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,               ,               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mae             bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">banciau         banc            E       [&#x27;I1.1&#x27;, &#x27;X2.6+&#x27;, &#x27;M1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;n              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cael            cael            B       [&#x27;A9+&#x27;, &#x27;Z5&#x27;, &#x27;X9.2+&#x27;, &#x27;A2.1+&#x27;, &#x27;A2.2&#x27;, &#x27;M1&#x27;, &#x27;M2&#x27;, &#x27;X2.5+&#x27;, &#x27;E4.1-&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eu              eu              Rha     [&#x27;Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gwahardd        gwahardd        B       [&#x27;S7.4-&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rhag            rhag            Ar      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bod             bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yn              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">berchen         perchen         E       [&#x27;A9+/S2mf&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ar              ar              Ar      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gwmniau         gwmniau         unk     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sydd            bod             B       [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ddim            dim             E       [&#x27;Z6/Z8&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yn              yn              U       [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rhai            rhai            unk     [&#x27;A13.5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cyllidol        cyllidol        Ans     [&#x27;I1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               Atd     [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Adran           adran           E       [&#x27;G1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Iechyd          iechyd          E       [&#x27;G1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cymru           Cymru           E       [&#x27;Z2&#x27;, &#x27;Z1mf&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               Atd     [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For Welsh the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">tag_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text    POS     MWE start and end index    USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Adran   E       (71, 73)                   [&#x27;G1.1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Iechyd  E       (71, 73)                   [&#x27;G1.1&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="indonesian">Indonesian<a class="hash-link" href="#indonesian" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>In this example we will not be using spaCy for tokenisation, lemmatisation, and POS tagging, as we will be using the <a href="https://github.com/UCREL/Indonesian-TreeTagger-Docker-Build" target="_blank" rel="noopener noreferrer">Indonesian TreeTagger</a> that has been wrapped in a docker container. Therefore, first you will need to <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">install docker</a>. After installing docker you will need to build the Indonesian TreeTagger docker container locally, of which by doing this you agree to the <a href="https://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/Tagger-Licence" target="_blank" rel="noopener noreferrer">TreeTagger license</a> (this license stops you from re-distributing the TreeTagger code, therefore please do not upload your built docker container to a registry like <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker Hub</a>), like so (docker container size roughly 139MB):</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">docker build -t indonesian-treetagger:1.0.0 https://github.com/UCREL/Indonesian-TreeTagger-Docker-Build.git</span><span class="token comment" style="color:#999988;font-style:italic">#main</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We assume that you would like to tag the following text, of which this text is stored in the file named <code>indonesian_text_example.txt</code>. The example text is taken from the Indonesian Wikipedia page on the topic of <a href="https://id.wikipedia.org/wiki/Bank" target="_blank" rel="noopener noreferrer"><code>Bank</code> as a financial institution.</a></p><div class="codeBlockContainer_K1bP language-txt theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">indonesian_text_example.txt</div><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Bank adalah sebuah lembaga keuangan intermediasi yang umumnya didirikan dengan kewenangan untuk menerima simpanan uang, meminjamkan uang, dan menerbitkan surat sanggup bayar.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First we will need to run the Indonesian TreeTagger:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> indonesian_text_example.txt </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> docker run -i --rm indonesian-treetagger:1.0.0 </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> indonesian_text_example.tsv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We now have a <code>tsv</code> version of the file that has been tokenised, lemmatised, and POS tagged. The <code>indonesian_text_example.tsv</code> file should contain the following (I have added column headers here to explain what each column represents, these headers should not be in your file):</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The POS tagset for Indonesian is not the USAS core or <a href="https://universaldependencies.org/u/pos/" target="_blank" rel="noopener noreferrer">UPOS</a> tagset, but rather the <a href="https://drive.google.com/file/d/1Pnhj2vVEEP5eIc655Af-WPDXxthyZdwb/view" target="_blank" rel="noopener noreferrer">UI tagset</a>.</p></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>indonesian_text_example.tsv:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_eoMF">indonesian_text_example.tsv</div><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Token   POS Lemma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank    NNP bank</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adalah  VB  adalah</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sebuah  NND sebuah</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lembaga keuangan    NN  lembaga</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intermediasi    NN  intermediasi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yang    SC  yang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">umumnya NN  umumnya</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">didirikan   VB  diri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dengan  IN  dengan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kewenangan  NN  wenang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">untuk   SC  untuk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">menerima    VB  terima</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">simpanan    NN  simpan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uang    NN  uang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,   Z   ,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">meminjamkan VB  pinjam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uang    NN  uang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,   Z   ,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dan CC  dan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">menerbitkan VB  terbit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">surat   NN  surat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sanggup VB  sanggup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bayar   VB  bayar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.   Z   .</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>Now we have the token, lemma, and POS tag information we can run the <a href="https://github.com/UCREL/pymusas-models/releases/tag/id_single_none_contextual-0.3.0" target="_blank" rel="noopener noreferrer">Indonsian PyMUSAS <code>RuleBasedTagger</code></a>, so first we will download it:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/id_single_none_contextual-0.3.0/id_single_none_contextual-0.3.0-py3-none-any.whl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now we can run the tagger over the <code>tsv</code> data using the following Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pathlib </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tokens </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vocab </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Vocab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the Indonesian PyMUSAS rule based tagger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;id_single_none_contextual&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tokens</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spaces</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pos_tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lemmas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">indonesian_tagged_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;indonesian_text_example.tsv&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> indonesian_tagged_file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;r&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> indonesian_tagged_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> line </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> indonesian_tagged_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        line </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            line_tags </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;\t&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tokens</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lemmas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pos_tags</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line_tags</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            spaces</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># As the tagger is a spaCy component that expects tokens, pos, and lemma</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># we need to create a spaCy Doc object that will contain this information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Vocab</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> words</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tokens</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tags</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pos_tags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lemmas</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">lemmas</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">tag_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text                Lemma               POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank                bank                NNP     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">adalah              adalah              VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sebuah              sebuah              NND     [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lembaga keuangan    lembaga             NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intermediasi        intermediasi        NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yang                yang                SC      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">umumnya             umumnya             NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">didirikan           diri                VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dengan              dengan              IN      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kewenangan          wenang              NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">untuk               untuk               SC      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">menerima            terima              VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">simpanan            simpan              NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uang                uang                NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,                   ,                   Z       [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">meminjamkan         pinjam              VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uang                uang                NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,                   ,                   Z       [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dan                 dan                 CC      [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">menerbitkan         terbit              VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">surat               surat               NN      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sanggup             sanggup             VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bayar               bayar               VB      [&#x27;Z99&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                   .                   Z       [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div></div></details><h2 class="anchor anchorWithStickyNavbar_31ik" id="english">English<a class="hash-link" href="#english" title="Direct link to heading">â€‹</a></h2><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Expand</summary><div><div class="collapsibleContent_3OHp"><p>First download both the <a href="https://github.com/UCREL/pymusas-models/releases/tag/en_dual_none_contextual-0.3.1" target="_blank" rel="noopener noreferrer">English PyMUSAS <code>RuleBasedTagger</code> spaCy component</a> and the <a href="https://spacy.io/models/en" target="_blank" rel="noopener noreferrer">small English spaCy model</a>:</p><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> https://github.com/UCREL/pymusas-models/releases/download/en_dual_none_contextual-0.3.1/en_dual_none_contextual-0.3.1-py3-none-any.whl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m spacy download en_core_web_sm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then create the tagger, in a Python script:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> spacy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># We exclude the following components as we do not need them. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;en_core_web_sm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exclude</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;parser&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ner&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the English PyMUSAS rule based tagger in a separate spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">english_tagger_pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> spacy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;en_dual_none_contextual&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Adds the English PyMUSAS rule based tagger to the main spaCy pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nlp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pymusas_rule_based_tagger&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">english_tagger_pipeline</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The tagger is now setup for tagging text through the spaCy pipeline like so (this example follows on from the last). The example text is taken from the English Wikipedia page on the topic of <a href="https://en.wikipedia.org/wiki/Nile" target="_blank" rel="noopener noreferrer"><code>The Nile River</code></a>, we captilised the <em>n</em> in <code>Northeastern</code>:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The Nile is a major north-flowing river in Northeastern Africa.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nlp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tLemma\tPOS\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">lemma_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><details class="details_2Ziz alert alert--info details_1VDD" data-collapsed="true"><summary>Output:</summary><div><div class="collapsibleContent_3OHp"><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text            Lemma           POS     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The             the             DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nile            Nile            PROPN   [&#x27;Z2&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">is              be              AUX     [&#x27;A3+&#x27;, &#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a               a               DET     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">major           major           ADJ     [&#x27;A11.1+&#x27;, &#x27;N3.2+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">north           north           NOUN    [&#x27;M6&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-               -               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flowing         flow            VERB    [&#x27;M4&#x27;, &#x27;M1&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">river           river           NOUN    [&#x27;W3/M4&#x27;, &#x27;N5+&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">in              in              ADP     [&#x27;Z5&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Northeastern    Northeastern    PROPN   [&#x27;Z1mf&#x27;, &#x27;Z3c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Africa          Africa          PROPN   [&#x27;Z1mf&#x27;, &#x27;Z3c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.               .               PUNCT   [&#x27;PUNCT&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details><p>For English the tagger also identifies and tags Multi Word Expressions (MWE), to find these MWE&#x27;s you can run the following:</p><div class="codeBlockContainer_K1bP language-python theme-code-block"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;Text\tPOS\tMWE start and end index\tUSAS Tags&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> token </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> output_doc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pymusas_mwe_indexes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">end </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">text</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pos_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">,</span><span class="token string-interpolation interpolation"> end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">\t</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">pymusas_tags</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Which will output the following:</p><div class="codeBlockContainer_K1bP language-tsv theme-code-block"><div class="codeBlockContent_hGly tsv"><pre tabindex="0" class="prism-code language-tsv codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Text            POS             MWE start and end index     USAS Tags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Northeastern    PROPN           (10, 12)                    [&#x27;Z1mf&#x27;, &#x27;Z3c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Africa          PROPN           (10, 12)                    [&#x27;Z1mf&#x27;, &#x27;Z3c&#x27;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ucrel/pymusas/edit/main/docs/docs/usage/how_to/tag_text.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-06-28T08:21:02.000Z">6/28/2022</time></b> by <b>Paul Rayson</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pymusas/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pymusas/usage/how_to/tag_conll_u_files"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tag CoNLL-U Files</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chinese" class="table-of-contents__link toc-highlight">Chinese</a></li><li><a href="#dutch" class="table-of-contents__link toc-highlight">Dutch</a></li><li><a href="#french" class="table-of-contents__link toc-highlight">French</a></li><li><a href="#italian" class="table-of-contents__link toc-highlight">Italian</a></li><li><a href="#portuguese" class="table-of-contents__link toc-highlight">Portuguese</a></li><li><a href="#spanish" class="table-of-contents__link toc-highlight">Spanish</a></li><li><a href="#finnish" class="table-of-contents__link toc-highlight">Finnish</a></li><li><a href="#welsh" class="table-of-contents__link toc-highlight">Welsh</a></li><li><a href="#indonesian" class="table-of-contents__link toc-highlight">Indonesian</a></li><li><a href="#english" class="table-of-contents__link toc-highlight">English</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pymusas/">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/pymusas/api/base">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/UCREL_NLP" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ucrel/pymusas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 UCREL. Built with Docusaurus.</div></div></div></footer></div>
<script src="/pymusas/assets/js/runtime~main.f644db1b.js"></script>
<script src="/pymusas/assets/js/main.82cefa3b.js"></script>
</body>
</html>